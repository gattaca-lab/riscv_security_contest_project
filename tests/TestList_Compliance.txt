#I
set(COMPLIANCE_SOURCES_ROOT ${CMAKE_SOURCE_DIR}/tests/compliance/rv32i/src)
set(FAILED_TESTS  "compliance_rv32i_I-MISALIGN_JMP-01.S"
                  "")
file(GLOB COMPLIANCE_TESTS "${COMPLIANCE_SOURCES_ROOT}/*.S")
foreach(file ${COMPLIANCE_TESTS})
    get_filename_component(NAME "${file}" NAME)
    if (compliance_rv32i_${NAME} IN_LIST FAILED_TESTS)
        test_add(compliance_rv32i_${NAME}  compliance/rv32i/src/${NAME} NIGHTLY)
    else()
        test_add(compliance_rv32i_${NAME}  compliance/rv32i/src/${NAME})
    endif()
endforeach()
#M
set(COMPLIANCE_SOURCES_ROOT ${CMAKE_SOURCE_DIR}/tests/compliance/rv32im/src)
file(GLOB COMPLIANCE_TESTS "${COMPLIANCE_SOURCES_ROOT}/*.S")
set(FAILED_TESTS  ""
                  "")
foreach(file ${COMPLIANCE_TESTS})
    get_filename_component(NAME "${file}" NAME)
    if (compliance_rv32im_${NAME} IN_LIST FAILED_TESTS)
        test_add(compliance_rv32im_${NAME}  compliance/rv32im/src/${NAME} NIGHTLY)
    else()
        test_add(compliance_rv32im_${NAME}  compliance/rv32im/src/${NAME})
    endif()
endforeach()
#C
set(COMPLIANCE_SOURCES_ROOT ${CMAKE_SOURCE_DIR}/tests/compliance/rv32imc/src)
file(GLOB COMPLIANCE_TESTS "${COMPLIANCE_SOURCES_ROOT}/*.S")
set(FAILED_TESTS  ""
                  "")
foreach(file ${COMPLIANCE_TESTS})
    get_filename_component(NAME "${file}" NAME)
    if (compliance_rv32imc_${NAME} IN_LIST FAILED_TESTS)
        test_add(compliance_rv32imc_${NAME}  compliance/rv32imc/src/${NAME} ENABLE_C_EXT NIGHTLY)
    else()
        test_add(compliance_rv32imc_${NAME}  compliance/rv32imc/src/${NAME} ENABLE_C_EXT)
    endif()
endforeach()
